<mat-tab-group>
	<mat-tab label="Add author">
    <mat-card class="entity-form">
      <div><h1>Add Author</h1>
        <div>
          <form name="authorsParams" (ngSubmit)="createAuthor(authorParams)" [formGroup]="authorParams">
            <div>
              <mat-form-field>
                <input formControlName="authorName"
                     placeholder="Author Name"
                     matInput>
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <input formControlName="authorSurname"
                     placeholder="Author Surname"
                     matInput>
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <input formControlName="authorDescription"
                     placeholder="Author Description"
                     matInput>
              </mat-form-field>
            </div>
            <div>
              <button mat-raised-button color="primary" [type]="submit">
                Create new Author
              </button>
            </div>
          </form>
        </div>
      </div>
    </mat-card>
    <mat-divider></mat-divider>
    <table mat-table [dataSource]="authors">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Id </th>
        <td mat-cell *matCellDef="let author"> {{author.id}} </td>
      </ng-container>

      <ng-container matColumnDef="authorName">
        <th mat-header-cell *matHeaderCellDef> Author Name </th>
        <td mat-cell *matCellDef="let author"> {{author.authorName}} </td>
      </ng-container>

      <ng-container matColumnDef="authorSurname">
        <th mat-header-cell *matHeaderCellDef> Author Surname </th>
        <td mat-cell *matCellDef="let author"> {{author.authorSurname}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedAuthorsColumn"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedAuthorsColumn"></tr>

    </table>
	</mat-tab>
	<mat-tab label="Add category">
		<mat-card class="entity-form">
			<div>
				<h1>Add category</h1>

				<form name="categoriesParams" (ngSubmit)="createCategory(categoryParams)" [formGroup]="categoryParams">
					<mat-form-field>
						<input formControlName="categoryName"
							   placeholder="Category name"
							   matInput>
					</mat-form-field>
					<div>
						<button mat-raised-button color="primary" [type]="submit">
							Create new category
						</button>
					</div>
				</form>
			</div>
		</mat-card>
		<mat-divider></mat-divider>
		<table mat-table [dataSource]="bookCategories">

			<ng-container matColumnDef="id">
				<th mat-header-cell *matHeaderCellDef> Id </th>
				<td mat-cell *matCellDef="let category"> {{category.id}} </td>
			</ng-container>

			<ng-container matColumnDef="bookCategoryName">
				<th mat-header-cell *matHeaderCellDef> Name </th>
				<td mat-cell *matCellDef="let category"> {{category.bookCategoryName}} </td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedCategoryColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedCategoryColumns"></tr>

		</table>
	</mat-tab>
	<mat-tab label="Add book details">
    <mat-card class="entity-form">
      <div><h1>Add book detail</h1></div>
      <div>
        <form name="bookDetailsParams" (ngSubmit)="createBookDetails(bookDetailsParams)" [formGroup]="bookDetailsParams">
          <div>
            <mat-form-field>
              <input formControlName="title"
                   placeholder="Book title"
                   matInput>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <mat-select placeholder="Categories" [(ngModel)]="selectedCategories" [formControl]="categoryForm" multiple>
                <mat-option *ngFor="let category of bookCategories" [value]="category">{{category.bookCategoryName}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field class="example-chip-list">
              <mat-chip-list #chipList>
                <mat-chip
                  *ngFor="let author of myAuthors; let indx=index"
                  [selectable]="selectable"
                  [removable]="removable"
                  (removed)="remove(author,indx)">
                  {{(author.authorName + " " + author.authorSurname)}}
                  <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input
                  placeholder="New author..."
                  #authorInput
                  [formControl]="authorCtrl"
                  [matAutocomplete]="auto"
                  [matChipInputFor]="chipList"
                  [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                  [matChipInputAddOnBlur]="addOnBlur"
                  (matChipInputTokenEnd)="add($event)">
              </mat-chip-list>
              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let author of filteredAuthors | async" [value]="author">
                  {{(author.authorName + " " + author.authorSurname)}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <input formControlName="isbn"
                   placeholder="ISBN number"
                   matInput>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <input formControlName="tableOfContents"
                   placeholder="Table of contents"
                   matInput>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <input matInput [matDatepicker]="myDatepicker" formControlName="dateOfPublication" placeholder="Publication date" matInput>
                <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
                <mat-datepicker #myDatepicker></mat-datepicker>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <input formControlName="coverPictureUrl"
                   placeholder="Cover picture URL"
                   matInput>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <input formControlName="description"
                   placeholder="Book description"
                   matInput>
            </mat-form-field>
          </div>
          <div>
            <button mat-raised-button color="primary" [type]="submit">
              Create new book details
            </button>
          </div>
        </form>
      </div>
    </mat-card>
    <mat-divider></mat-divider>
    <table mat-table [dataSource]="booksDetails">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Id </th>
        <td mat-cell *matCellDef="let bookDetails"> {{bookDetails.id}} </td>
      </ng-container>

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let bookDetails"> {{bookDetails.title}} </td>
      </ng-container>

      <!--
      <ng-container matColumnDef="authors">
        <th mat-header-cell *matHeaderCellDef> Authors </th>
        <td mat-cell *matCellDef="let bookDetails"> {{bookDetails.authors}} </td>
      </ng-container>
      -->

      <ng-container matColumnDef="isbn">
        <th mat-header-cell *matHeaderCellDef> ISBN </th>
        <td mat-cell *matCellDef="let bookDetails"> {{bookDetails.isbn}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedBookDetailColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedBookDetailColumns"></tr>

    </table>
   </mat-tab>
</mat-tab-group>
