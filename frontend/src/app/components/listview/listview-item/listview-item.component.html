<mat-card>
	<mat-card-header>
		<img *ngIf="bookDetails.coverPictureUrl" mat-card-avatar src="{{bookDetails.coverPictureUrl}}">
		<img *ngIf="!bookDetails.coverPictureUrl" mat-card-avatar src="../../../../assets/images/default-cover.png">
		<mat-card-title routerLink="/single-book-view/{{bookDetails.id}}" routerLinkActive="active" class="cursor-pointer"><b> {{bookDetails.title}}</b> by {{bookDetails.authors | arrToStr:'author'}}</mat-card-title>
		<mat-card-subtitle>
			<h4>
				{{bookDetails.categories| arrToStr:'category'}}
			</h4>
		</mat-card-subtitle>
	</mat-card-header>
	<mat-card-content>
		<b>About:</b> {{bookDetails.description}}
	</mat-card-content>
	<mat-accordion *ngIf="bookDetails.books.length > 0">
		<mat-expansion-panel>
			<mat-expansion-panel-header>
				<mat-panel-title>
					Available books: {{bookDetails.books | bookStatuses:1}}/{{bookDetails.books.length}}
				</mat-panel-title>
			</mat-expansion-panel-header>

			<ol>
				<li *ngFor="let bookCopy of bookDetails.books;" class="book-item">
					<div class="signature">{{bookCopy.signature}}</div>

					<button *ngIf="bookCopy.status.id === 1" mat-raised-button color="accent" class="button-spacer">
						<mat-icon>done</mat-icon>
						Borrow book
					</button>

					<button *ngIf="bookCopy.status.id !== 1" mat-raised-button class="button-spacer">
						<mat-icon>star</mat-icon>
						Reserve book
					</button>

					<div *ngIf="bookCopy.status.id !== 1" class="available-on button-spacer"> available on: 01.07.2019</div>

				</li>
			</ol>
		</mat-expansion-panel>
	</mat-accordion>
	<div class="not-available" *ngIf="(bookDetails.books.length < 1)">
		<b>Sorry, but this book is not available.</b>
	</div>
</mat-card>
